<?php

/**
 * @file
 * Contains tests for the Freshdesk module.
 */

/**
 * Test case.
 */
class FreshdeskTestCase extends DrupalWebTestCase {


  /**
   * Generic web user.
   *
   * @var array
   */
  protected $webUser = [];

  /**
   * Adminstrative user.
   *
   * @var array
   */
  protected $adminUser = [];

  /**
   * {@inheritdoc}
   */
  function setUp() {
    // Call the parent with an array of modules to enable for the test.
    $modules[] = 'freshdesk';
    parent::setUp($modules);

    // Create an admin user and log them in.
    $this->adminUser = $this->drupalCreateUser([
      'access content',
      'create page content',
      'edit own page content',
      'administer url aliases',
      'create url aliases',
      'administer users',
      'administer permissions',
    ]);
    $this->drupalLogin($this->adminUser);
    // Set the role as admin for the admin user just created.
    $this->drupalPost('user/' . $this->adminUser->uid . '/edit', ['roles[3]' => TRUE], t('Save'));

  }

}